---
name: Validate PR Title

# Using both pull_request and pull_request_target triggers to support:
# - pull_request: Regular contributors (may require approval based on repo settings)
# - pull_request_target: Renovate bot (runs without requiring approval)
# This workflow only validates PR metadata and doesn't checkout code, so there's no
# security risk with pull_request_target (no untrusted code is executed).
on:
  pull_request:
    types: [opened, edited, synchronize, reopened]
  pull_request_target:
    types: [opened, edited, synchronize, reopened]

permissions:
  pull-requests: read

jobs:
  validate-title:
    runs-on: ubuntu-latest
    steps:
      - name: Validate PR title
        uses: camunda/infra-global-github-actions/teams/infra/pull-request/validate-title@5f8949d23b3880548af9188a15a4f3671960fb47
        with:
          # Keep in sync with .github/config/release-please-config.json changelog-sections
          types: |
            feat
            fix
            deps
            docs
            ci
            test
            chore
            refactor
